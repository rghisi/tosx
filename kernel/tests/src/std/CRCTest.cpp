//
// Created by ghisi on 04.09.22.
//

#include <gtest/gtest.h>
#include "../../../avr/src/std/CRC.h"

TEST(CRC8, ShouldCalculateCorrectCRC8_WhenProvidedWithInputData) {
    uint8_t data[] = { 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x00};

    auto result = CRC::calculate(data, 10);

    ASSERT_EQ(0xFF, result);
}

TEST(CRC8, AShouldCalculateCorrectCRC8_WhenProvidedWithInputData) {
    uint8_t data[] = { 0xa5, 0x22, 0x02, 0x01, 0x00, 0x10, 0xff, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4a, 0x4b, 0x4c, 0x4d, 0x4e, 0x4f, 0x50, 0x51, 0x52, 0x53, 0x54, 0x55, 0x56, 0x58, 0x59, 0x5a, 0x00, 0x81 };

    auto result = CRC::calculate(data, 34);

    ASSERT_EQ(0xBE, result);
}